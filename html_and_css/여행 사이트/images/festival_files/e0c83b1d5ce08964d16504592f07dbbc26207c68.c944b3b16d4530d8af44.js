(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[36],{nwRl:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("m/Gp"),o=a("nKUr"),c=function(e){var t=e.dark,a=void 0!==t&&t,c=e.className,i=void 0===c?"":c,r=e.children;return Object(o.jsx)("div",{className:"Kebab "+i+" "+(a?"dark":""),children:Object(o.jsx)(n.a,{closeAfterClick:!0,trigger:Object(o.jsx)(o.Fragment,{}),content:Object(o.jsx)("div",{className:"Kebab__content",children:r}),className:"Kebab"})})}},wuwe:function(e,t,a){"use strict";a.d(t,"a",(function(){return A}));var n=a("nwRl"),o=a("rLfy"),c=a("TyAF"),i=a("YFqc"),r=a.n(i),s=a("rg98"),p=a("vJKn"),l=a.n(p),u=a("vDqi"),d=a.n(u),_=a("20a2"),j=a.n(_),g=a("7RPH"),v=a("q1tI"),b=a("vYRp"),C=a("pRtX"),T=a("Z/8h"),O=a("HZAT"),h=a("nKUr"),w=Object(c.b)("popupStore")(Object(c.c)((function(e){var t=O.a.intlStringFactory(["PopupTopicReview_REVIEW_REGISTERED","PopupTopicReview_REVIEW_UPDATED","PopupTopicReview_EDIT","PopupTopicReview_START_NEXT","PopupTopicReview_TOPIC_REVIEW","PopupTopicReview_WRITE","PopupTopicReview_PLACEHOLDER","PopupTopicReview_MESSAGE_1","PopupTopicReview_MESSAGE_2"]),a=e.layout,n=e.topicId,o=e.setReview,c=e.topicEnrollment,i=e.isEdit,r=void 0!==i&&i,p=e.topicTitle,u=e.popupStore,_=u.setSecondPopup,w=u.currentPopup,m=u.closePopup,R=u.setShortPopup,x=Object(v.useState)(r?c.review.content:""),E=x[0],f=x[1],P=e.lessonRatingStore?e.lessonRatingStore.nextPage:"/";Object(v.useEffect)((function(){f(r?c.review.content:"")}),[w]);var N=function(){var e=Object(s.a)(l.a.mark((function e(){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:Object(b.A)("cat")?"Bearer "+Object(b.A)("cat"):""},data:'\n        mutation {\n          createReview(review: {\n            reviewableType: TOPIC,\n            reviewableId: "'+n+'",\n            content: '+JSON.stringify(Object(b.r)(E))+"\n          }) { id content }\n        }"});case 3:(c=e.sent).data.errors.length>0||null==c.data.data.createReview?Object(b.a)("error in createReview: ",c):("GENERAL"===a&&(o&&o(n,c.data.data.createReview),R(t.PopupTopicReview_REVIEW_REGISTERED)),"CLASSROOM"===a&&j.a.push(P.url,P._as)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(b.a)("error in createReview: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(s.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:Object(b.A)("cat")?"Bearer "+Object(b.A)("cat"):""},data:'\n        mutation {\n          updateReview(\n            id: "'+c.review.id+'"\n            content: '+JSON.stringify(Object(b.r)(E))+"\n          ) { id content }\n        }"});case 3:(a=e.sent).data.errors.length>0||null==a.data.data.updateReview?Object(b.a)("error in updateReview: ",a):(o&&o(n,a.data.data.updateReview),R(t.PopupTopicReview_REVIEW_UPDATED)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(b.a)("error in updateReview: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return c?Object(h.jsx)(T.a,{hasCloseBtn:!0,isEnterAvailable:!1,className:"PopupTopicReview",popupTitle:g.c.topicReview+n,notClosedWithBtn1:!0,btnText:r?t.PopupTopicReview_EDIT:O.a.intl.formatMessage({id:"PopupTopicReview_SUBMIT"},{point:C.c.topic}),btnFunc:function(){""==E||E.replace(/\s/g,"").length<15?_(g.c.errorEmptyContent15Second):(r?k():N(),f(""),m())},hasBtn2:"CLASSROOM"===a,btn2Text:t.PopupTopicReview_START_NEXT,btn2Func:function(){"CLASSROOM"===a&&j.a.push(P.url,P._as)},content:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"PopupTopicReview__content",children:[Object(h.jsxs)("div",{className:"PopupTopicReview__content--text",children:[Object(h.jsxs)("span",{children:["[",p,"]"," "]}),Object(h.jsx)("br",{className:"CR__hidden--ML"}),t.PopupTopicReview_TOPIC_REVIEW," ",r?t.PopupTopicReview_EDIT:t.PopupTopicReview_WRITE]}),Object(h.jsx)("textarea",{className:"PopupTopicReview__content--textarea",value:E,onChange:function(e){return f(e.target.value)},placeholder:t.PopupTopicReview_PLACEHOLDER}),Object(h.jsxs)("div",{className:"PopupTopicReview__content--length "+(E.replace(/\s/g,"").length<15&&"PopupCourseReview__body--length--error"),children:["(",Object(h.jsx)("span",{children:E.replace(/\s/g,"").length}),"/300)"]})]}),Object(h.jsxs)("div",{className:"PopupTopicReview__msg",children:[t.PopupTopicReview_MESSAGE_1,Object(h.jsx)("br",{}),t.PopupTopicReview_MESSAGE_2]})]})}):Object(h.jsx)(h.Fragment,{})}))),m=a("YLwY"),R=a("Enrf"),x=a("hMkD"),E=a("rzrn"),f=a("Kem5"),P=a("4dgq"),N=a("cTt3"),k=a("upGi"),S=Object(c.c)((function(e){var t=O.a.intlStringFactory(["CatalogTopicContent_chapter","CatalogTopicContent_lesson","CatalogTopicContent_review_edit","CatalogTopicContent_review","CatalogTopicContent_preparing"]),a=e.topicData,n=e.onClickTopicContent,o=e.dark,c=e.isReviewMode,i=void 0!==c&&c,r=Object(v.useMemo)((function(){return a.status!==x.K.NOT_RELEASED}),[a]),s=Object(v.useMemo)((function(){return b.b.getFirstCode(a.code,1)}),[a]),p=Object(v.useMemo)((function(){return r?"CODE__"+s+"--color":""}),[a,r,s]),l=Object(v.useMemo)((function(){var e;if(!r)return t.CatalogTopicContent_preparing;var n=(null===(e=a.chapters)||void 0===e?void 0:e.length)||0,o=a.lessonCount?N.a.getTotalLessonCountOfAllTypes(a.lessonCount):0;return n+" "+t.CatalogTopicContent_chapter+" "+o+" "+t.CatalogTopicContent_lesson}),[a,r]);return Object(h.jsxs)("div",{className:"CatalogTopicContent \n        "+(o?"CatalogTopicContent__dark":"")+"\n        "+(r?"":"CatalogTopicContent__notReleased")+"\n      ",onClick:n,children:[Object(h.jsx)("div",{className:"CatalogTopicContent__background"}),Object(h.jsx)("div",{className:"CatalogTopicContent__status \n        "+(o||!P.a.getInstance().logged||P.a.getInstance().logged&&a.enrollment&&a.enrollment.status===m.j.Graduated?"completed CODE__"+s+"--bg--image":a.enrollment?"inProgress CODE__"+s+"--bg--image":"default"),children:Object(h.jsx)("div",{className:"CatalogTopicContent__status--wrapper",children:b.b.isAvailableCodeForTarget("TopicCatalogIcon",a.code)&&Object(h.jsx)("img",{className:"CatalogTopicContent__status--wrapper--icon",src:"/static/images/catalog/topicRight--"+s+".png"})})}),Object(h.jsxs)("div",{className:"CatalogTopicContent__wrapper",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"CatalogTopicContent__language "+p,children:Object(b.X)(a.tags)}),Object(h.jsxs)("p",{className:"CatalogTopicContent__title",children:[(null===a||void 0===a?void 0:a.newReleased)&&Object(h.jsx)("span",{className:"CatalogTopicContent__newReleased",children:"N"}),Object(h.jsx)("a",{children:a.title})]}),Object(h.jsx)("p",{className:"CatalogTopicContent__summary",children:Object(h.jsx)("a",{children:a.summary})})]}),Object(h.jsxs)("div",{className:"CatalogTopicContent__footer",children:[Object(h.jsx)("div",{className:"CatalogTopicContent__footer--left",children:l}),Object(h.jsx)("div",{className:"CatalogTopicContent__footer--right",children:i?Object(h.jsx)("div",{className:"CatalogTopicContent__footer--right--review "+p,onClick:function(e){return e.stopPropagation(),void E.a.getInstance().setCurrentPopup(x.r.topicReview+String(a.id))},children:a.enrollment&&a.enrollment.review?t.CatalogTopicContent_review_edit:Object(h.jsxs)(h.Fragment,{children:[t.CatalogTopicContent_review,Object(h.jsx)(k.a,{})]})}):Object(h.jsx)(h.Fragment,{children:!R.a.isUserFromLotte()&&Object(h.jsxs)(h.Fragment,{children:[o?Object(h.jsx)("img",{alt:"term",src:"/static/images/catalog/term.png"}):Object(h.jsx)("img",{alt:"term",src:"/static/images/catalog/term-gray.png"}),Object(h.jsx)("span",{className:"CatalogTopicContent__footer--right--term",children:Object(f.a)({week:Object(b.db)(a.requiredTimeInMinutes||0,1,!0,0)>0?Object(b.db)(a.requiredTimeInMinutes||0,1,!0,0):1},"week","CatalogTopicContent_n_week_course","CatalogTopicContent_n_week_course_plural")})]})})})]})]})]})})),A=Object(c.c)((function(e){var t=O.a.intlStringFactory(["CatalogTopic_topic_edit","CatalogTopic_course","CatalogTopic_list_del"]),a=Object(_.useRouter)(),c=e.topicData,i=e.dark,s=void 0!==i&&i,p=e.className,l=void 0===p?"":p,u=e.editMode,d=void 0!==u&&u,j=e.onClickDelete,g=e.onClickByCourse,v=e.isReviewMode,C=void 0!==v&&v,T=e.setReview,R=e.courseData,x=void 0===R?null:R,E=e.onClickUp,f=e.onClickDown;return Object(h.jsxs)("div",{className:"CatalogTopic "+l,children:[Object(h.jsx)(S,{onClickTopicContent:function(){if(!d&&(Object(b.xb)()||c.status===m.b.Released||c.status===m.b.Discontinued)){var e=(x?"/courses/"+x.slug:"")+"/topics/"+c.slug;a.push(e)}},topicData:c,dark:s,isReviewMode:C}),C&&c.enrollment&&Object(h.jsx)(w,{topicTitle:c.title,topicId:c.id,layout:"GENERAL",setReview:T,topicEnrollment:c.enrollment,isEdit:!!c.enrollment.review}),d&&E&&f&&Object(h.jsx)(o.a,{isDark:!1,onClickUp:E,onClickDown:f}),d&&Object(h.jsxs)(n.a,{dark:!0,children:[Object(h.jsx)(r.a,{href:"/topics/"+c.slug+"/edit",children:Object(h.jsx)("a",{className:"CatalogTopic__Kebab--each",children:t.CatalogTopic_topic_edit})}),Object(h.jsx)("div",{className:"CatalogTopic__Kebab--each",onClick:g,children:t.CatalogTopic_course}),Object(h.jsx)("div",{className:"CatalogTopic__Kebab--each",onClick:j,children:t.CatalogTopic_list_del})]})]})}))}}]);